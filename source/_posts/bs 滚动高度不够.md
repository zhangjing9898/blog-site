---
layout: post
title: "better-scroll æ»šåŠ¨é«˜åº¦ä¸å¤Ÿé—®é¢˜"
date: 2019-01-02
categories:
  - è¸©å‘è®°
tags:
  - plugin
description: wå‰å‡ å¤©ï¼Œåœ¨åšæˆ‘çš„å¥–å“åˆ—è¡¨æ¨¡å—çš„æ—¶å€™ï¼Œä½¿ç”¨äº† better-scrollï¼Œå‘ç°å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼šæœ‰æ—¶å€™ä¼šå‡ºç°å†…å®¹é¡µçš„æ»šåŠ¨é«˜åº¦ä¸å¤Ÿ
---
# better-scroll æ»šåŠ¨é«˜åº¦ä¸å¤Ÿé—®é¢˜

å‰å‡ å¤©ï¼Œåœ¨åšæˆ‘çš„å¥–å“åˆ—è¡¨æ¨¡å—çš„æ—¶å€™ï¼Œä½¿ç”¨äº† better-scrollï¼Œå‘ç°å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼š**æœ‰æ—¶å€™ä¼šå‡ºç°å†…å®¹é¡µçš„æ»šåŠ¨é«˜åº¦ä¸å¤Ÿ**ã€‚

ğŸ˜… æœ€åå‘ç°ï¼Œæ˜¯å› ä¸ºæ¯ä¸€ä¸ª li çš„é«˜åº¦ä¸ä¸€è‡´ï¼Œå¯¼è‡´ï¼Œbetter-scroll åœ¨åˆå§‹åŒ–æ—¶å›¾ç‰‡æ²¡æœ‰åŠ è½½å®Œï¼Œå¹¶ä¸”æœåŠ¡ç«¯ä¸‹å‘çš„å›¾ç‰‡çš„é«˜åº¦ä¸ä¸€å®šï¼Œæ— æ³•è®¡ç®—å‡ºæœ€ç»ˆéœ€è¦**translate çš„é«˜åº¦**ã€‚

å½“æ—¶æœ‰ç‚¹è ¢æ²¡æœ‰ååº”è¿‡æ¥ï¼Œæƒ³ç”¨ä¸€ä¸ª fn æ¥è®¡ç®— dom çš„é«˜åº¦ã€‚

ğŸŒ° æ¯”å¦‚ï¼š

```JS
updated () {
        //è§£å†³better-scrollå› ä¸ºå›¾ç‰‡æ²¡æœ‰ä¸‹è½½å®Œå¯¼è‡´çš„æ»šåŠ¨æ¡é«˜åº¦ä¸å¤Ÿï¼Œæ— æ³•æµè§ˆå…¨éƒ¨å†…å®¹çš„é—®é¢˜ã€‚
        //åŸå› æ˜¯better-scrollåˆå§‹åŒ–æ˜¯åœ¨domåŠ è½½åæ‰§è¡Œï¼Œæ­¤æ—¶å›¾ç‰‡æ²¡æœ‰ä¸‹è½½å®Œæˆï¼Œå¯¼è‡´æ»šåŠ¨æ¡é«˜åº¦è®¡ç®—ä¸å‡†ç¡®ã€‚
        //åˆ©ç”¨å›¾ç‰‡çš„completeå±æ€§è¿›è¡Œåˆ¤æ–­ï¼Œå½“æ‰€æœ‰å›¾ç‰‡ä¸‹è½½å®Œæˆåå†å¯¹scrollé‡æ–°è®¡ç®—ã€‚
        let img = document.getElementsByClassName('content')[0].getElementsByTagName('img')
        let count = 0
        let length = img.length
        if (length) {
            let timer = setInterval(() => {
                if (count == length) {
                    // console.log('refresh')
                    this.scroll.refresh()
                    clearInterval(timer)
                } else if (img[count].complete) {
                    count ++
                }
            }, 100)
        }

    },
```

#### ä½†æ˜¯ï¼Œå®Œå…¨ä¸å¿…è¦è¿™æ ·ã€‚

æœ¬èº«liçš„é«˜åº¦å°±åº”è¯¥å›ºå®šä½ï¼Œè®©imgçš„widthè‡ªç¼©æ”¾ï¼Œä¸ç„¶ï¼Œä¸åŒé«˜åº¦çš„liï¼Œè¿™æ ·çš„åˆ—è¡¨çœ‹èµ·æ¥ä¸€ç‚¹éƒ½ä¸ç¾è§‚ã€‚